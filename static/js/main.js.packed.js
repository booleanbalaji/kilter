window.Kilter={},Kilter.sendGA=function(t,e,a){typeof ga!="undefined"&&ga("send",{hitType:"event",eventCategory:t,eventAction:e,eventLabel:a})},Kilter.updateFontSize=function(t){var e=1,a=$(t).width(),n=parseInt($(t).css("max-height"),10),l=$(t).find("span");while(l.width()>a||l.height()>n)l.css("font-size",parseInt(l.css("font-size"),10)-e+"px")},Kilter.getElemWidth=function(t){var e=$(t).css("width"),a=$(t).css("margin-left"),n=parseInt(e,10)+2.5*parseInt(a,10);return n},Kilter.enableScroll=function(t){$(".mCustomScrollbar").css("width",t*Kilter.getElemWidth(".proposal-card")+"px"),$(".mCustomScrollbar").mCustomScrollbar({axis:"x",theme:"dark-3",scrollInertia:10,alwaysShowScrollbar:0})},Kilter.parseJson=function(t,e,a){new Ractive({el:e,template:a,data:{content:t},oncomplete:function(){var t=e+" .click";$(t).click(function(){var t=$(this).data("target"),e=$(this).data("label");Kilter.sendGA("click",e,t)})}})},Kilter.parseProposalJson=function(t){new Ractive({el:"#funnel-proposals",template:"#proposals-wrapper",data:{proposals:t.proposals},oncomplete:function(){$.each($(".proposal-card .title"),function(t,e){Kilter.updateFontSize(e)}),Kilter.enableScroll(t.proposals.length),$(window).resize(function(){Kilter.enableScroll(t.proposals.length)}),$("#funnel-proposals .click, #funnel-proposals .btn").click(function(){var t=$(this).data("label"),e=$(this).data("target");Kilter.sendGA("click",t,e)})}})},$(document).ready(function(){if($("#nav-home").length)var t=$("#nav-home").offset().top;$(window).scroll(function(){$("#nav-home").length&&($(this).scrollTop()>t?$("#nav-home").addClass("navbar-fixed-top"):$("#nav-home").removeClass("navbar-fixed-top"))}),$(".smooth-scroll").click(function(t){t.preventDefault();var e=$(this).attr("href"),a=$(""+e).offset().top-$(".site-navbar").height();$("html,body").animate({scrollTop:a},"900")}),$(".button").click(function(){var t=$(this).html(),e=$(this).attr("href");Kilter.sendGA("click",t,e)}),$(".click").click(function(){var t=$(this).data("target"),e=$(this).data("label");Kilter.sendGA("click",e,t)})});